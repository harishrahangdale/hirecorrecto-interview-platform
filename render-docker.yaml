# Render deployment configuration for HireCorrecto Backend (Docker)
# This file uses Docker deployment instead of direct Node.js deployment
# 
# To use this file:
# 1. Rename this file to render.yaml (or use it as-is)
# 2. Push to your repository
# 3. In Render dashboard, create a new "Web Service"
# 4. Connect your repository
# 5. Render will detect the Dockerfile and use Docker deployment
#
# OR manually configure:
# - Build Command: (leave empty, Docker handles it)
# - Start Command: (leave empty, Docker handles it)
# - Dockerfile Path: server/Dockerfile

services:
  - type: web
    name: hirecorrecto-backend-docker
    # Docker deployment - Render will use server/Dockerfile
    dockerfilePath: server/Dockerfile
    dockerContext: server
    # Environment variables (set these in Render dashboard)
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        # Render automatically sets PORT, but we can specify a default
        value: 5004
      # Required: Set these in Render dashboard
      # - key: MONGODB_URI
      #   value: your_mongodb_connection_string
      # - key: CLIENT_URL
      #   value: https://your-frontend.netlify.app
      # - key: GEMINI_API_KEY
      #   value: your_gemini_api_key
      # - key: GEMINI_MODEL
      #   value: gemini-2.5-pro
      # - key: JWT_SECRET
      #   value: your_jwt_secret
      # - key: SMTP_HOST
      #   value: smtp.gmail.com
      # - key: SMTP_PORT
      #   value: 587
      # - key: SMTP_USER
      #   value: your_email@gmail.com
      # - key: SMTP_PASS
      #   value: your_app_password
      # - key: STORAGE_BACKEND
      #   value: local
      #   # Note: For production, consider using cloud storage (S3, Cloudinary)
      #   # as Render's filesystem is ephemeral
      # - key: UPLOAD_DIR
      #   value: ./uploads
      # - key: JWT_EXPIRES_IN
      #   value: 7d
      # - key: USD_TO_INR_RATE
      #   value: 83.5
    # Health check endpoint
    healthCheckPath: /api/health
    # Auto-deploy from main branch
    autoDeploy: true
    # Plan (free tier available)
    plan: free
    # Region (choose closest to your users)
    region: oregon

